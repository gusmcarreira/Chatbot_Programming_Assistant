version: "3.1"

session_config:
  session_expiration_time: 5
  carry_over_slots_to_new_session: false

# ------------------ INTENTS ------------------
intents:
  - greet
  - goodbye
  - affirm
  - deny
  - bot_challenge
  - ask_question
  - ask_example
  - EXTERNAL_ERROR_MESSAGE
# ------------------ ENTITIES -----------------
entities:
## ERROR GUIDANCE ##
- error_type
- error_message
- answer_concept_wanted
######################
# ------------------- SLOTS -------------------
slots:
  ## ERROR GUIDANCE ##
  slot_eg_start:
    type: bool
    influence_conversation: true
    mappings:
    - type: custom

  slot_eg_message:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: error_message

  slot_eg_concept:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: error_type

  slot_eg_question_index:
    type: float
    initial_value: 0
    influence_conversation: false
    mappings:
    - type: custom
    max_value: 10.0
    min_value: 0.0

  slot_eg_questions_list:
    type: list
    influence_conversation: false
    mappings:
      - type: custom

  slot_eg_answer:
    type: text
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
          - active_loop: form_eg_answer

  # Check if answer was given from a button
  slot_eg_answer_from_option:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: custom

  slot_eg_more_questions:
    type: bool
    initial_value: true
    influence_conversation: true
    mappings:
      - type: custom
  ######################
# ------------------- FORMS -------------------
forms:
  ## ERROR GUIDANCE ##
  form_eg_start:
    required_slots:
        - slot_eg_start

  form_eg_answer:
    required_slots:
        - slot_eg_answer
  ######################
# ------------------ RESPONSES ------------------
responses:
  utter_greet:
  - text: "Ol√° üëã! Em que posso ajudar?"
  - text: "Ol√° üëã! Em que posso ser √∫til?"

  utter_did_that_help:
  - text: "A resposta foi esclarecedora?"
  - text: "A resposta ajudou?"

  utter_goodbye:
  - text: "Adeus üëã"
  - text: "At√© j√° üëã"
  - text: "At√© logo üëã"

  utter_iamabot:
  - text: "Na verdade sou um Chatbot ü§ñ!"
  - text: "Nenhum humano aqui! Apenas um simp√°tico chatbot ü§ñ!"

  utter_anything_else:
    - text: "Algo mais em que possa ser √∫til?"
    - text: "Posso ajud√°-lo em algo mais?"

  utter_please_rephrase:
  - text: "Desculpe n√£o entendi, pode reformular?"

  utter_congratulate:
  - text: "Boa, continue assim!"
  - text: "Isso mesmo üòé!"

  utter_refresh_memory:
  - text: "Talvez as seguintes op√ß√µes lhe refresquem a mem√≥ria:"

  utter_present_answer:
  - text: "Pode pergunta! üòÅ"

  # utter_ask_<form_name>_<slot_name>
  utter_ask_form_eg_start_slot_eg_start:
    - text: "Parece estar com alguns problemas, gostaria de uma ajudinha? (sim/n√£o)"

  utter_are_you_sure:
  - text: "Tem a certeza?"

  utter_ask_for_help:
  - text: "Desculpe, vou treinar para a pr√≥xima conseguir ajudar üòî. Gostaria de mandar mensagem ao professor com a sua d√∫vida?"
  - text: "Desculpe, vou estudar mais para a pr√≥xima conseguir ajudar üòî. Gostaria de mandar mensagem ao professor com a sua d√∫vida?"

  utter_wants_help:
  - text: "Acima do editor de programa√ß√£o tem um bot√£o chamado 'Pedir ajuda' clique nele e √© s√≥ escrever a sua d√∫vida!"

  utter_ask:
  - text: "For√ßa farei o meu melhor para conseguir ajudar!"
  - text: "Chute! Farei o meu melhor para conseguir ajudar!"
# ------------------ ACTIONS ------------------
actions:
- action_eg_reset_slot_start
- action_eg_start
- action_eg_check_answer
- action_eg_followup_concept
- action_eg_check_options
- action_answer_questions
- validate_form_eg_start